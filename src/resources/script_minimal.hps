void StopImageAnimation(string a,bool b){SetLocalVarInt("_anim_stop_"+a,b?2:1);}void StartImageAnimation(string a,string b,string c,int d,int e,bool f){SetLocalVarInt("_anim_stop_"+a,0);SetLocalVarString("_anim_area_"+a,b);SetLocalVarString("_anim_areafrom_"+a,c);SetLocalVarInt("_anim_fps_"+a, e>60?60:(e<1?1:e));SetLocalVarInt("_anim_frames_"+a,d);SetLocalVarInt("_anim_loop_"+a,f?1:0);SetLocalVarInt("_anim_currentframe_"+a,0);_anim_PlayFrame(a);}void PreloadAnimation(string a,string b,int c){for(int i=0;i<c;i++){CreateEntityAtArea("_anim_ent_"+a+i,a+i+".ent",b,false);}}void _anim_PlayFrame(string a){int c=GetLocalVarInt("_anim_currentframe_"+a);int b=c-1;if(c>0){PlaceEntityAtEntity("_anim_ent_"+a+b,GetLocalVarString("_anim_areafrom_"+a),"",true);}if(c<GetLocalVarInt("_anim_frames_"+a)){if(GetLocalVarInt("_anim_stop_"+a)!=2){PlaceEntityAtEntity("_anim_ent_"+a+c,GetLocalVarString("_anim_area_"+a),"",true);}AddLocalVarInt("_anim_currentframe_"+a,1);if(GetLocalVarInt("_anim_stop_"+a)==0){AddTimer(a,1.0f/GetLocalVarInt("_anim_fps_"+a),"_anim_PlayFrame");}}else{if(GetLocalVarInt("_anim_loop_"+a)==1){SetLocalVarInt("_anim_currentframe_"+a,0);_anim_PlayFrame(a);return;}}}
